function ShowHideContent(){var t=this;t.showHideRadioToggledContent=function(){$(".block-label input[type='radio']").each(function(){var t=$(this),a=t.attr("name"),e=t.parent("label"),n=e.attr("data-target");n?(t.attr("aria-controls",n),t.on("click",function(){t.closest("form").find(".block-label input[name="+a+"]").each(function(){var t=$(this),a=t.parent("label").attr("data-target"),e=$("#"+a);e.hide(),t.attr("aria-expanded","false"),e.attr("aria-hidden","true")});var e=$("#"+n);e.show(),t.attr("aria-expanded","true"),e.attr("aria-hidden","false")})):t.on("click",function(){$(".block-label input[name="+a+"]").each(function(){var t=$(this).parent("label").attr("data-target"),a=$("#"+t);a.hide(),$(this).attr("aria-expanded","false"),a.attr("aria-hidden","true")})})})},t.showHideCheckboxToggledContent=function(){$(".block-label input[type='checkbox']").each(function(){var t=$(this),a=$(this).parent(),e=a.attr("data-target");"undefined"!=typeof e&&e!==!1&&(t.attr("aria-controls",e),t.attr("aria-expanded","false"),$("#"+e).attr("aria-hidden","true"),t.on("click",function(){var t="false"===$(this).attr("aria-expanded")?!0:!1;$("#"+e).toggle(),$(this).attr("aria-expanded",t),$("#"+e).attr("aria-hidden",!t)}))})}}function showDialog(){function t(t,a){e.lastFocus=a;var n=$(t);n.attr("aria-hidden","false").find(".dialog-content").focus().attr("tabindex","-1"),n.trap()}function a(){var t=$(".dialog[aria-hidden=false]");t.attr("aria-hidden","true").find(".dialog-content").blur().attr("tabindex","0"),t.untrap(),e.lastFocus.focus(),e.lastFocus.blur()}var e={lastFocus:null};$(".dialog").length>0&&($("a[data-toggle=dialog]").on("click",function(a){a.preventDefault(),a.stopPropagation();var e=$(this),n="#"+e.attr("data-target");t(n,e)}),$(".dialog-holder").on("click",function(t){t.stopPropagation()}),$(".dialog-close").on("click",function(t){t.preventDefault(),t.stopPropagation(),a()}),$(".dialog-cancel").on("click",function(t){t.preventDefault(),t.stopPropagation(),a()}),$(document).bind({click:function(){a()},keyup:function(t){27==t.keyCode&&a()}}))}function toggleTabs(){$(".tabs").length>0&&$(".tabs:not(pre .tabs)").tabs()}function formMultipleCheckboxes(){$(".form-checkboxes").length>0&&$(".form-checkboxes > li").on("click",function(t){var a=$(t.target),e=$(this).find("input[type='checkbox']");return a.is("input[type='checkbox']")?void($(this).hasClass("selected")?($(this).removeClass("selected"),$(this).removeClass("focused")):($(this).addClass("selected"),$(this).addClass("focused"))):(t.preventDefault(),void(e.prop("checked")?($(this).removeClass("selected"),$(this).removeClass("focused"),e.prop("checked",!1)):($(this).addClass("selected"),$(this).addClass("focused"),e.prop("checked",!0))))})}function formValidation(){$('.validation-list a[href^="#"]').on("click",function(t){t.preventDefault();var a=$(this),e=a.attr("href");$(e).focus(),$("html, body").animate({scrollTop:$(e).offset().top-20},500)})}function collapsibles(){$(".collapsible .collapsible-item").each(function(){var t=$(this).closest(".language-markup");if(!t.hasClass("language-markup")){var a=($(this),$(this).find(".collapsible-heading h3")),e=$(this).find(".collapsible-content"),n="collapsible-"+$(this).index();a.wrapInner('<button aria-expanded="false" aria-controls="'+n+'">');var i=a.children("button");e.attr({id:n,"aria-hidden":!0}),i.on("click",function(t){t.preventDefault();var a="false"===$(this).attr("aria-expanded")?!0:!1;i.attr("aria-expanded",a),e.attr("aria-hidden",!a)})}})}function toggleContent(){$(".toggle").each(function(t){var a=$(this).find(".toggle-link"),e=$(this).find(".toggle-content"),n="toggle-"+t++;a.attr("aria-controls",n).attr({"aria-expanded":!1}),e.attr({id:n,"aria-hidden":!0}),a.on("click",function(t){t.preventDefault();var n="false"===$(this).attr("aria-expanded")?!0:!1;a.attr("aria-expanded",n),e.attr("aria-hidden",!n)})})}$(document).ready(function(){jQuery.fx.off=!0;var t=$(".block-label input[type='radio'], .block-label input[type='checkbox']");new GOVUK.SelectionButtons(t);var a=new ShowHideContent;a.showHideRadioToggledContent(),a.showHideCheckboxToggledContent()}),function(){toggleTabs(),formValidation(),formMultipleCheckboxes(),showDialog(),collapsibles(),toggleContent()}();